--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: databasechangelog; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.databasechangelog (
    id character varying(255) NOT NULL,
    author character varying(255) NOT NULL,
    filename character varying(255) NOT NULL,
    dateexecuted timestamp without time zone NOT NULL,
    orderexecuted integer NOT NULL,
    exectype character varying(10) NOT NULL,
    md5sum character varying(35),
    description character varying(255),
    comments character varying(255),
    tag character varying(255),
    liquibase character varying(20),
    contexts character varying(255),
    labels character varying(255),
    deployment_id character varying(10)
);


ALTER TABLE public.databasechangelog OWNER TO postgres;

--
-- Name: databasechangeloglock; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.databasechangeloglock (
    id integer NOT NULL,
    locked boolean NOT NULL,
    lockgranted timestamp without time zone,
    lockedby character varying(255)
);


ALTER TABLE public.databasechangeloglock OWNER TO postgres;

--
-- Name: example_table; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.example_table (
    id integer NOT NULL,
    name character varying(255) NOT NULL
);


ALTER TABLE public.example_table OWNER TO postgres;

--
-- Name: real-estate-features; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."real-estate-features" (
    property_id bigint NOT NULL,
    features character varying(255)
);


ALTER TABLE public."real-estate-features" OWNER TO postgres;

--
-- Name: real_estate; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.real_estate (
    property_id bigint NOT NULL,
    address character varying(255) NOT NULL,
    city character varying(255) NOT NULL,
    created_at date NOT NULL,
    description character varying(1000),
    price numeric(38,2) NOT NULL,
    property_type character varying(255) NOT NULL,
    size_in_sqmt character varying(255),
    state character varying(255) NOT NULL,
    title character varying(255) NOT NULL,
    updated_at date,
    zip_code character varying(255) NOT NULL,
    CONSTRAINT real_estate_property_type_check CHECK (((property_type)::text = ANY ((ARRAY['HOUSE'::character varying, 'APARTMENT'::character varying, 'CONDO'::character varying, 'LAND'::character varying])::text[])))
);


ALTER TABLE public.real_estate OWNER TO postgres;

--
-- Name: real_estate_features; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.real_estate_features (
    real_estate_property_id bigint NOT NULL,
    features character varying(255)
);


ALTER TABLE public.real_estate_features OWNER TO postgres;

--
-- Name: real_estate_property_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.real_estate ALTER COLUMN property_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.real_estate_property_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role (
    id bigint NOT NULL,
    name character varying(255) NOT NULL
);


ALTER TABLE public.role OWNER TO postgres;

--
-- Name: role_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.role ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_roles (
    user_id bigint NOT NULL,
    role_id bigint NOT NULL
);


ALTER TABLE public.user_roles OWNER TO postgres;

--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id bigint NOT NULL,
    created_at date NOT NULL,
    password character varying(255) NOT NULL,
    updated_at date,
    username character varying(255) NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: databasechangelog; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.databasechangelog (id, author, filename, dateexecuted, orderexecuted, exectype, md5sum, description, comments, tag, liquibase, contexts, labels, deployment_id) FROM stdin;
1	darko	db/changelog/db.changelog-master.xml	2025-03-15 15:20:50.561298	1	EXECUTED	9:dfa0a59abe1b0b77563d48abb949bed0	createTable tableName=example_table		\N	4.29.2	\N	\N	2048450539
\.


--
-- Data for Name: databasechangeloglock; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.databasechangeloglock (id, locked, lockgranted, lockedby) FROM stdin;
1	f	\N	\N
\.


--
-- Data for Name: example_table; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.example_table (id, name) FROM stdin;
\.


--
-- Data for Name: real-estate-features; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."real-estate-features" (property_id, features) FROM stdin;
3	balcony
3	cellar
3	basement
\.


--
-- Data for Name: real_estate; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.real_estate (property_id, address, city, created_at, description, price, property_type, size_in_sqmt, state, title, updated_at, zip_code) FROM stdin;
2	Karadjordjeva	Paris	2025-02-02	Nov glanc da, da	80000.00	CONDO	150	China	Stan nov	2025-02-03	22334
3	Mracna	Lilsetrom	2025-02-04	Na dva sprata	180000.00	HOUSE	350	Norway	Kuca polovna	2025-02-04	22344
1	Dositejeva	Stockholm	2025-02-02	Kuca pored mora	70000.00	APARTMENT	50	France	Stan polovan	2025-03-04	44532
5	Zmaj Jovina 23	Belgrade	2025-03-13	Nov, luksuzan stan	225000.00	APARTMENT	94	Serbia	Stan na Dorcolu	2025-03-13	11000
\.


--
-- Data for Name: real_estate_features; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.real_estate_features (real_estate_property_id, features) FROM stdin;
\.


--
-- Data for Name: role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.role (id, name) FROM stdin;
1	ROLE_USER
2	ROLE_ADMIN
3	ROLE_AGENT
\.


--
-- Data for Name: user_roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_roles (user_id, role_id) FROM stdin;
3	2
4	2
4	3
6	2
8	3
9	3
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (id, created_at, password, updated_at, username) FROM stdin;
3	2025-02-02	$2a$10$JbogjxXzrLjs9YF2.NBkKu7XqK1t.zYpmUZThFWUG/fWHto7jsYxC	\N	darko
4	2025-02-02	$2a$10$G7QrscqAiPQAAPpOfQJB9.oRE.nfX43O7jkOClm3a./zNfkHgZolK	\N	zezi
6	2025-02-02	$2a$10$QZleFvlnrhPgLyXsei4BLuxzVCaazazE3bx9551uerxvySgknx5sa	\N	lazar
8	2025-02-02	$2a$10$OYwQo3kYCnenDSU9t81JZex3KHk7F15qZsXQE/vtJCWhjQWhcfyMy	\N	testuser
9	2025-02-04	$2a$10$cPXBAnlEV6i4C3CEXIOHoOdacOJGLQ9KvaV.QCy5GQzAF6T8jUuCu	\N	agent007
\.


--
-- Name: real_estate_property_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.real_estate_property_id_seq', 5, true);


--
-- Name: role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.role_id_seq', 3, true);


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 9, true);


--
-- Name: databasechangeloglock databasechangeloglock_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.databasechangeloglock
    ADD CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (id);


--
-- Name: example_table example_table_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.example_table
    ADD CONSTRAINT example_table_pkey PRIMARY KEY (id);


--
-- Name: real_estate real_estate_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.real_estate
    ADD CONSTRAINT real_estate_pkey PRIMARY KEY (property_id);


--
-- Name: role role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_pkey PRIMARY KEY (id);


--
-- Name: role uk8sewwnpamngi6b1dwaa88askk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT uk8sewwnpamngi6b1dwaa88askk UNIQUE (name);


--
-- Name: users ukr43af9ap4edm43mmtq01oddj6; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT ukr43af9ap4edm43mmtq01oddj6 UNIQUE (username);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: real-estate-features fk2btsd98yx8sqhqhwgc63b0lsi; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."real-estate-features"
    ADD CONSTRAINT fk2btsd98yx8sqhqhwgc63b0lsi FOREIGN KEY (property_id) REFERENCES public.real_estate(property_id);


--
-- Name: user_roles fkhfh9dx7w3ubf1co1vdev94g3f; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT fkhfh9dx7w3ubf1co1vdev94g3f FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: real_estate_features fko22cvj6n4e6o5ldcm9m68s8xu; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.real_estate_features
    ADD CONSTRAINT fko22cvj6n4e6o5ldcm9m68s8xu FOREIGN KEY (real_estate_property_id) REFERENCES public.real_estate(property_id);


--
-- Name: user_roles fkrhfovtciq1l558cw6udg0h0d3; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT fkrhfovtciq1l558cw6udg0h0d3 FOREIGN KEY (role_id) REFERENCES public.role(id);


--
-- PostgreSQL database dump complete
--

